<script>
    var scrollSpy = {

    //разделитель высоты секции на половины. Если высота больше чем половина от секции, то рассмотривается следующая секция
        DEVIDER_FOR_SECTION: 2,

    //слушаем скролл
        listenScroll: () => {
            window.addEventListener("scroll", (event) => {
                scrollSpy._getCurrentSectionAfterScroll(".js-static-content");
            });
        },

    //получаем необходимую секцию и запускаем методы
        _getCurrentSectionAfterScroll: (item) => {
            var sections = document.querySelectorAll(item);
            for(var i = 0; i < sections.length; i++) {
                if (scrollSpy._isBelowScroll(sections[i]))
                    break;
            }
            //если в области видимости есть хоть какая-то секция, то выполняем метод
            if (sections[i]) {
                scrollSpy._changeLinkStatus(sections[i].id);
            }
        },

        _isBelowScroll: (element) => {
            var position = element.getBoundingClientRect();
            var sectionHeight = scrollSpy._getCurrentElementHeight(element);
            var headerHeight = scrollSpy._getHeaderHeight(".js-header");
            return position.top > -((sectionHeight - headerHeight) / scrollSpy.DEVIDER_FOR_SECTION);
        },

    //получаем высоту текущей секции
        _getCurrentElementHeight: (element) => {
            return element.offsetHeight;
        },

    //высчитываем высоту хедера
        _getHeaderHeight: (elem) => {
            return document.querySelector(elem).offsetHeight;
        },

    //меняем статус кнопки
        _changeLinkStatus: (id) => {
            document.querySelectorAll(".js-sticky-btn").forEach((item) => {
                item.classList.remove("active-btn");
            });
            document.querySelector(".js-sticky-btn[href='#"+id+"']").classList.add("active-btn");
        },

        init: () => {
            scrollSpy.listenScroll();
        },

    };
    scrollSpy.init();
</script>